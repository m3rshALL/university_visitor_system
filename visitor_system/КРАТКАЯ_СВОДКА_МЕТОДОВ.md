# üìä –ö–†–ê–¢–ö–ê–Ø –°–í–û–î–ö–ê: –ú–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –ù–ï —Ä–∞–±–æ—Ç–∞—é—Ç

## –í—Å–µ–≥–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ: 15 –º–µ—Ç–æ–¥–æ–≤

---

## üî¥ HCP API (13 –º–µ—Ç–æ–¥–æ–≤)

| ‚Ññ | Endpoint | –ú–µ—Ç–æ–¥ | –§–æ—Ä–º–∞—Ç | –†–µ–∑—É–ª—å—Ç–∞—Ç | –ü—Ä–∏—á–∏–Ω–∞ |
|---|----------|-------|--------|-----------|---------|
| 1 | `/person/single/update` | POST | JSON base64 | `code=0` –Ω–æ —Ñ–æ—Ç–æ –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è | –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è HCP –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Ñ–æ—Ç–æ |
| 2 | `/person/face/update` | POST | JSON faceData | `code=2` Parameter error | –ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ |
| 3 | `/common/v1/picture/upload` | POST | Multipart | `code=8` not supported | –í–µ—Ä—Å–∏—è HCP –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç |
| 4 | `/resource/v1/person/photo` | POST | Multipart | `code=8` not supported | –í–µ—Ä—Å–∏—è HCP –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç |
| 5 | `/person/single/update` | POST | JSON {picData} | `code=0` –Ω–æ —Ñ–æ—Ç–æ –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è | –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç |
| 6 | `/person/single/update` | POST | JSON data:image URI | `code=0` –Ω–æ —Ñ–æ—Ç–æ –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è | –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç |
| 7 | `/person/single/update` | POST | Optimized image | `code=0` –Ω–æ —Ñ–æ—Ç–æ –ù–ï —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è | –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç |
| 8 | `/resource/v1/picture/upload` | POST | - | `code=8` not supported | –í–µ—Ä—Å–∏—è HCP –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç |
| 9 | `/resource/v1/person/picture/upload` | POST | - | `code=8` not supported | –í–µ—Ä—Å–∏—è HCP –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç |
| 10 | `/resource/v1/person/face/picture` | POST | - | `code=8` not supported | –í–µ—Ä—Å–∏—è HCP –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç |
| 11 | `/acs/v1/person/picture/upload` | POST | - | `code=8` not supported | –í–µ—Ä—Å–∏—è HCP –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç |
| 12 | `/visitor/v1/picture/upload` | POST | - | `code=8` not supported | –í–µ—Ä—Å–∏—è HCP –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç |
| 13 | `/resource/v1/card/personPhoto` | POST | - | `code=8` not supported | –í–µ—Ä—Å–∏—è HCP –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç |

---

## üî¥ ISAPI Direct (3 –º–µ—Ç–æ–¥–∞ √ó 3 —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ = 9 —Ç–µ—Å—Ç–æ–≤)

### –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:
- –¢—É—Ä–Ω–∏–∫–µ—Ç –≤—Ö–æ–¥: `10.1.18.47`
- –ü–∞—Ä–∫–∏–Ω–≥ –≤—Ö–æ–¥: `10.200.2.0`
- –ü–∞—Ä–∫–∏–Ω–≥ –≤—ã—Ö–æ–¥: `10.200.2.1`

| ‚Ññ | Endpoint | –ú–µ—Ç–æ–¥ | –§–æ—Ä–º–∞—Ç | –†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ –í–°–ï–• —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö |
|---|----------|-------|--------|-------------------------------|
| 14 | `/ISAPI/Intelligent/FDLib/FaceDataRecord/picture` | PUT | Multipart | HTTP 400: `statusCode=4 notSupport` |
| 15 | `/ISAPI/Intelligent/FDLib/FaceDataRecord` | POST | XML base64 | HTTP 400: `statusCode=5 Invalid Format` |
| 16 | `/ISAPI/Intelligent/FDLib/FDSetUp/picture` | POST | Binary | HTTP 400: `statusCode=4 notSupport` |

---

## üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ü–û –¢–ò–ü–ê–ú –û–®–ò–ë–û–ö

| –¢–∏–ø –æ—à–∏–±–∫–∏ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ | % –æ—Ç –æ–±—â–µ–≥–æ |
|------------|------------|-------------|
| `code=8 "not supported"` (HCP) | 9 –º–µ—Ç–æ–¥–æ–≤ | 60% |
| `code=0` –Ω–æ —Ñ–æ—Ç–æ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è | 4 –º–µ—Ç–æ–¥–∞ | 27% |
| ISAPI `statusCode=4 notSupport` | 2 –º–µ—Ç–æ–¥–∞ (6 —Ç–µ—Å—Ç–æ–≤) | 13% |

---

## üéØ –ö–û–†–ù–ï–í–´–ï –ü–†–ò–ß–ò–ù–´

### 1Ô∏è‚É£ **HikCentral Professional - –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è**
- **–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ**: 13 –º–µ—Ç–æ–¥–æ–≤ –∏–∑ 15 (87%)
- **–°–∏–º–ø—Ç–æ–º 1**: Modern API ‚Üí `code=8 "not supported"`
- **–°–∏–º–ø—Ç–æ–º 2**: Legacy API ‚Üí –ü—Ä–∏–Ω–∏–º–∞—é—Ç –∑–∞–ø—Ä–æ—Å, –Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç —Ñ–æ—Ç–æ
- **–†–µ—à–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–∏—Ç—å HCP –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏

### 2Ô∏è‚É£ **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ - –°—Ç–∞—Ä—ã–π firmware**
- **–ó–∞—Ç—Ä–æ–Ω—É—Ç–æ**: 3 –º–µ—Ç–æ–¥–∞ √ó 3 —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ = 9 —Ç–µ—Å—Ç–æ–≤
- **–°–∏–º–ø—Ç–æ–º**: –í—Å–µ ISAPI –º–µ—Ç–æ–¥—ã ‚Üí `statusCode=4 notSupport`
- **–†–µ—à–µ–Ω–∏–µ**: –û–±–Ω–æ–≤–∏—Ç—å firmware —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### 3Ô∏è‚É£ **–ù–ï –ø—Ä–æ–±–ª–µ–º–∞ –ª–∏—Ü–µ–Ω–∑–∏–∏**
- –ë–∞–∑–æ–≤—ã–µ API —Ä–∞–±–æ—Ç–∞—é—Ç: —Å–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω ‚úÖ, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∞–≤ ‚úÖ
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç: AK/SK –ø–æ–¥–ø–∏—Å–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã ‚úÖ
- –ü—Ä–æ–±–ª–µ–º–∞ –≤ –≤–µ—Ä—Å–∏—è—Ö –ü–û, –∞ –Ω–µ –≤ –ª–∏—Ü–µ–Ω–∑–∏—è—Ö

---

## ‚úÖ –î–õ–Ø –°–†–ê–í–ù–ï–ù–ò–Ø: –ß—Ç–æ –†–ê–ë–û–¢–ê–ï–¢

| –§—É–Ω–∫—Ü–∏—è | Endpoint | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|---------|----------|-----------|
| –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω—ã | `/person/single/add` | ‚úÖ `code=0 Success` |
| –ó–∞–ø—Ä–æ—Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ | `/person/personId/personInfo` | ‚úÖ `code=0 Success` |
| –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ | `/acs/v1/person/advance/cardReaderChange` | ‚úÖ `code=0 Success` |
| Device Info (ISAPI) | `/ISAPI/System/deviceInfo` | ‚úÖ HTTP 200 |
| User Management (ISAPI) | `/ISAPI/AccessControl/UserInfo` | ‚úÖ HTTP 200 |

---

## üí° –ï–î–ò–ù–°–¢–í–ï–ù–ù–û–ï –†–ê–ë–û–ß–ï–ï –†–ï–®–ï–ù–ò–ï (–±–µ–∑ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)

### ‚úÖ –†—É—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ HCP UI

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω—É —á–µ—Ä–µ–∑ API (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏) ‚úÖ
2. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç HikCentral Professional UI
3. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–∞—Ö–æ–¥–∏—Ç —Å–æ–∑–¥–∞–Ω–Ω—É—é –ø–µ—Ä—Å–æ–Ω—É
4. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–æ—Ç–æ –≤—Ä—É—á–Ω—É—é ‚úÖ

**–°—Ç–∞—Ç—É—Å:** –†–∞–±–æ—Ç–∞–µ—Ç 100% –Ω–∞–¥–µ–∂–Ω–æ

---

## üîÑ –î–û–õ–ì–û–°–†–û–ß–ù–´–ï –†–ï–®–ï–ù–ò–Ø

| –†–µ—à–µ–Ω–∏–µ | –°—Ç–æ–∏–º–æ—Å—Ç—å | –í—Ä–µ–º—è | –≠—Ñ—Ñ–µ–∫—Ç |
|---------|-----------|-------|--------|
| **–û–±–Ω–æ–≤–∏—Ç—å HCP** | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ* | 1-2 –¥–Ω—è | ‚úÖ 13 –º–µ—Ç–æ–¥–æ–≤ –∑–∞—Ä–∞–±–æ—Ç–∞—é—Ç |
| **–û–±–Ω–æ–≤–∏—Ç—å firmware** | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ* | 2-3 –¥–Ω—è | ‚úÖ 3 ISAPI –º–µ—Ç–æ–¥–∞ –∑–∞—Ä–∞–±–æ—Ç–∞—é—Ç |
| **–†—É—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** | –ë–µ—Å–ø–ª–∞—Ç–Ω–æ | –ü–æ—Å—Ç–æ—è–Ω–Ω–æ | ‚ö†Ô∏è –í—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ |

*–ú–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç

---

## üìû –î–ï–ô–°–¢–í–ò–Ø

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:
1. ‚úÖ –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å —Ç–µ–∫—É—â–∏–π –∫–æ–¥ (—Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä—É—á–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π)
2. üìù –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å —Ä—É—á–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

### –ë–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è:
1. üìû –°–≤—è–∑–∞—Ç—å—Å—è —Å Hikvision support
2. ‚ùì –£–∑–Ω–∞—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é HCP
3. ‚ùì –ó–∞–ø—Ä–æ—Å–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é HCP
4. ‚ùì –£–∑–Ω–∞—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Ç–µ–∫—É—â–∏–º–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏

### –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
1. üîÑ –û–±–Ω–æ–≤–∏—Ç—å HCP –∏/–∏–ª–∏ firmware —É—Å—Ç—Ä–æ–π—Å—Ç–≤
2. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –∑–∞–≥—Ä—É–∑–∫—É (–∫–æ–¥ —É–∂–µ –≥–æ—Ç–æ–≤!)
3. üéâ –ù–∞—Å–ª–∞–∂–¥–∞—Ç—å—Å—è –ø–æ–ª–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π

---

## üìÅ –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

**–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞:**

1. `–°–ü–ò–°–û–ö_–ù–ï_–†–ê–ë–û–¢–ê–Æ–©–ò–•_–ú–ï–¢–û–î–û–í.md` ‚Üê **—ç—Ç–æ—Ç —Ñ–∞–π–ª** (–¥–µ—Ç–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫)
2. `–ù–£–ñ–ù–ê_–õ–ò_–õ–ò–¶–ï–ù–ó–ò–Ø.md` (–æ—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å –æ –ª–∏—Ü–µ–Ω–∑–∏–∏)
3. `PHOTO_UPLOAD_FINAL_REPORT.md` (–ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç EN)
4. `–ò–¢–û–ì–û–í–´–ô_–û–¢–ß–ï–¢_–§–û–¢–û.md` (–ø–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç RU)

**–¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã (8 —Ñ–∞–π–ª–æ–≤):**
- `test_photo_object.py`
- `test_multipart_upload.py`
- `test_multipart_final.py`
- `test_face_library_correct.py`
- `test_hcp_version_and_endpoints.py`
- `test_alternative_photo_methods.py`
- `check_final_photo_status.py`
- `test_isapi_direct_upload.py`

---

**–ò—Ç–æ–≥–æ**: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ **15 –º–µ—Ç–æ–¥–æ–≤**, **–≤—Å–µ –ù–ï —Ä–∞–±–æ—Ç–∞—é—Ç** –∏–∑-–∑–∞ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π –ü–û, **–ù–ï –∏–∑-–∑–∞ –ª–∏—Ü–µ–Ω–∑–∏–∏**. –ö–æ–¥ –≥–æ—Ç–æ–≤, –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è HCP –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. üéØ
