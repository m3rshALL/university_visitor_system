from django.core.management.base import BaseCommand
from departments.models import Department


DEFAULT_DEPARTMENTS = [
	"Департамент стратегии и корпоративного управления",
	"Департамент академической деятельности",
	"Департамент маркетинга и связи с общественностью",
	"Департамент социально-воспитательной работы",
	"Департамент информационных технологий",
	"Департамент по обеспечению качества",
	"Центр компетенции и совершенства",
	"Центр карьеры и трудоустройства",
	"Департамент финансово-экономического планирования и анализа",
	"Департамент бухгалтерского учета",
	"Колледж информационных технологий",
	"Центр психологической консультации",
	"Департамент управления человеческими ресурсами",
	"Департамент международного сотрудничества",
	"Департамент по хозяйственной работе",
	"Цифровой институт непрерывного образования",
	"Деканат",
	"Юридический департамент",
	"Департамент науки и инноваций",
	"Научная библиотека",
	"Офис регистратора",
	"Военная кафедра",
	"Отдел закупок",
	"Медиа студия",
]


class Command(BaseCommand):
	help = "Создаёт базовый набор департаментов, если их нет"

	def handle(self):
		created_count = 0
		for name in DEFAULT_DEPARTMENTS:
			created = Department.objects.get_or_create(name=name)
			if created:
				created_count += 1
		self.stdout.write(self.style.SUCCESS(f"Готово. Создано: {created_count}, всего: {Department.objects.count()}"))


